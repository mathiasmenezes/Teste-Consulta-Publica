{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useForm}from'../../contexts/FormContext';import{useAuth}from'../../contexts/AuthContext';import{ArrowLeft,Download,Users,Calendar,User,BarChart3}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormResponses=()=>{const{formId}=useParams();const navigate=useNavigate();const{getFormById,getFormResponses,loading}=useForm();const[selectedResponse,setSelectedResponse]=useState(null);const[showResponseModal,setShowResponseModal]=useState(false);const[form,setForm]=useState(null);const[responses,setResponses]=useState([]);const[dataLoading,setDataLoading]=useState(true);useEffect(()=>{loadFormData();},[formId]);const loadFormData=async()=>{try{setDataLoading(true);const[formData,responsesData]=await Promise.all([getFormById(formId),getFormResponses(formId)]);setForm(formData);setResponses(responsesData);}catch(error){console.error('Error loading form data:',error);}finally{setDataLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const exportResponses=()=>{if(!form||responses.length===0)return;const csvData=[// Header row\n['User','Submitted At',...form.fields.map(field=>field.label)]];// Data rows\nresponses.forEach(response=>{const row=[response.user_name||\"User \".concat(response.user_id),formatDate(response.submitted_at),...form.fields.map(field=>{const value=response.data[field.id||form.fields.indexOf(field)];return Array.isArray(value)?value.join(', '):value||'';})];csvData.push(row);});const csvContent=csvData.map(row=>row.map(cell=>\"\\\"\".concat(cell,\"\\\"\")).join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(form.title,\"_responses.csv\");a.click();window.URL.revokeObjectURL(url);};const openResponseModal=response=>{setSelectedResponse(response);setShowResponseModal(true);};if(dataLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})});}if(!form){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Form not found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/admin'),className:\"text-primary-600 hover:text-primary-700\",children:\"Back to Dashboard\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/admin'),className:\"flex items-center text-gray-600 hover:text-gray-900\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 mr-2\"}),\"Back to Dashboard\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:\"Form Responses\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:exportResponses,disabled:responses.length===0,className:\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Download,{className:\"h-4 w-4 mr-2\"}),\"Export CSV\"]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:form.title}),form.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:form.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 mr-1\"}),responses.length,\" responses\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-1\"}),\"Created \",formatDate(form.created_at)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary-600\",children:responses.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Total Responses\"})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})}):responses.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 text-gray-400 mb-4\",children:/*#__PURE__*/_jsx(BarChart3,{className:\"h-12 w-12\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No responses yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Responses will appear here once users start filling out the form\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"All Responses\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Submitted\"}),form.fields.map((field,index)=>/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:field.label},field.id||index)),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:responses.map((response,responseIndex)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:response.user_name||\"User \".concat(response.user_id)}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:response.user_email})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:formatDate(response.submitted_at)}),form.fields.map((field,fieldIndex)=>{const value=response.data[field.id||fieldIndex];return/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xs truncate\",children:Array.isArray(value)?value.join(', '):value||'-'})},field.id||fieldIndex);}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>openResponseModal(response),className:\"text-primary-600 hover:text-primary-900\",children:\"View Details\"})})]},response.id))})]})})]})]}),showResponseModal&&selectedResponse&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Response Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResponseModal(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"User: \",selectedResponse.user_name||\"User \".concat(selectedResponse.user_id)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Submitted: \",formatDate(selectedResponse.submitted_at)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t pt-4\",children:form.fields.map((field,index)=>{const value=selectedResponse.data[field.id||index];return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:field.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900 bg-gray-50 p-3 rounded-md\",children:Array.isArray(value)?value.join(', '):value||'No response'})]},field.id||index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowResponseModal(false),className:\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\",children:\"Close\"})})]})})})]});};export default FormResponses;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useForm","useAuth","ArrowLeft","Download","Users","Calendar","User","BarChart3","jsx","_jsx","jsxs","_jsxs","FormResponses","formId","navigate","getFormById","getFormResponses","loading","selectedResponse","setSelectedResponse","showResponseModal","setShowResponseModal","form","setForm","responses","setResponses","dataLoading","setDataLoading","loadFormData","formData","responsesData","Promise","all","error","console","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","exportResponses","length","csvData","fields","map","field","label","forEach","response","row","user_name","concat","user_id","submitted_at","value","data","id","indexOf","Array","isArray","join","push","csvContent","cell","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","title","click","revokeObjectURL","openResponseModal","className","children","onClick","disabled","description","created_at","index","responseIndex","user_email","fieldIndex"],"sources":["C:/Users/Highcastle/Documents/Cidadão+ Consulta Pública/src/components/admin/FormResponses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useForm } from '../../contexts/FormContext';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { \r\n  ArrowLeft, \r\n  Download, \r\n  Users, \r\n  Calendar,\r\n  User,\r\n  BarChart3\r\n} from 'lucide-react';\r\n\r\nconst FormResponses = () => {\r\n  const { formId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const { getFormById, getFormResponses, loading } = useForm();\r\n  \r\n  const [selectedResponse, setSelectedResponse] = useState(null);\r\n  const [showResponseModal, setShowResponseModal] = useState(false);\r\n  const [form, setForm] = useState(null);\r\n  const [responses, setResponses] = useState([]);\r\n  const [dataLoading, setDataLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadFormData();\r\n  }, [formId]);\r\n\r\n  const loadFormData = async () => {\r\n    try {\r\n      setDataLoading(true);\r\n      const [formData, responsesData] = await Promise.all([\r\n        getFormById(formId),\r\n        getFormResponses(formId)\r\n      ]);\r\n      \r\n      setForm(formData);\r\n      setResponses(responsesData);\r\n    } catch (error) {\r\n      console.error('Error loading form data:', error);\r\n    } finally {\r\n      setDataLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const exportResponses = () => {\r\n    if (!form || responses.length === 0) return;\r\n\r\n    const csvData = [\r\n      // Header row\r\n      ['User', 'Submitted At', ...form.fields.map(field => field.label)]\r\n    ];\r\n\r\n    // Data rows\r\n    responses.forEach(response => {\r\n      const row = [\r\n        response.user_name || `User ${response.user_id}`,\r\n        formatDate(response.submitted_at),\r\n        ...form.fields.map(field => {\r\n          const value = response.data[field.id || form.fields.indexOf(field)];\r\n          return Array.isArray(value) ? value.join(', ') : (value || '');\r\n        })\r\n      ];\r\n      csvData.push(row);\r\n    });\r\n\r\n    const csvContent = csvData.map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `${form.title}_responses.csv`;\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const openResponseModal = (response) => {\r\n    setSelectedResponse(response);\r\n    setShowResponseModal(true);\r\n  };\r\n\r\n  if (dataLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"loading-spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!form) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Form not found</h2>\r\n          <button\r\n            onClick={() => navigate('/admin')}\r\n            className=\"text-primary-600 hover:text-primary-700\"\r\n          >\r\n            Back to Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={() => navigate('/admin')}\r\n                className=\"flex items-center text-gray-600 hover:text-gray-900\"\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5 mr-2\" />\r\n                Back to Dashboard\r\n              </button>\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                Form Responses\r\n              </h1>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-3\">\r\n              <button\r\n                onClick={exportResponses}\r\n                disabled={responses.length === 0}\r\n                className=\"flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Export CSV\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Form Info */}\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">{form.title}</h2>\r\n              {form.description && (\r\n                <p className=\"text-gray-600 mb-4\">{form.description}</p>\r\n              )}\r\n              <div className=\"flex items-center space-x-6 text-sm text-gray-500\">\r\n                <div className=\"flex items-center\">\r\n                  <Users className=\"h-4 w-4 mr-1\" />\r\n                  {responses.length} responses\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <Calendar className=\"h-4 w-4 mr-1\" />\r\n                  Created {formatDate(form.created_at)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-2xl font-bold text-primary-600\">{responses.length}</div>\r\n              <div className=\"text-sm text-gray-500\">Total Responses</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Responses */}\r\n        {loading ? (\r\n          <div className=\"flex justify-center py-12\">\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        ) : responses.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"mx-auto h-12 w-12 text-gray-400 mb-4\">\r\n              <BarChart3 className=\"h-12 w-12\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\r\n              No responses yet\r\n            </h3>\r\n            <p className=\"text-gray-600\">\r\n              Responses will appear here once users start filling out the form\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div className=\"px-6 py-4 border-b border-gray-200\">\r\n              <h3 className=\"text-lg font-medium text-gray-900\">All Responses</h3>\r\n            </div>\r\n            \r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      User\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Submitted\r\n                    </th>\r\n                    {form.fields.map((field, index) => (\r\n                      <th key={field.id || index} className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                        {field.label}\r\n                      </th>\r\n                    ))}\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {responses.map((response, responseIndex) => (\r\n                    <tr key={response.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\">\r\n                            <User className=\"h-4 w-4 text-primary-600\" />\r\n                          </div>\r\n                          <div className=\"ml-3\">\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              {response.user_name || `User ${response.user_id}`}\r\n                            </div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              {response.user_email}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                        {formatDate(response.submitted_at)}\r\n                      </td>\r\n                      {form.fields.map((field, fieldIndex) => {\r\n                        const value = response.data[field.id || fieldIndex];\r\n                        return (\r\n                          <td key={field.id || fieldIndex} className=\"px-6 py-4 text-sm text-gray-900\">\r\n                            <div className=\"max-w-xs truncate\">\r\n                              {Array.isArray(value) ? value.join(', ') : (value || '-')}\r\n                            </div>\r\n                          </td>\r\n                        );\r\n                      })}\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                        <button\r\n                          onClick={() => openResponseModal(response)}\r\n                          className=\"text-primary-600 hover:text-primary-900\"\r\n                        >\r\n                          View Details\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Response Detail Modal */}\r\n      {showResponseModal && selectedResponse && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-10 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">\r\n                  Response Details\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowResponseModal(false)}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between text-sm text-gray-500\">\r\n                  <span>User: {selectedResponse.user_name || `User ${selectedResponse.user_id}`}</span>\r\n                  <span>Submitted: {formatDate(selectedResponse.submitted_at)}</span>\r\n                </div>\r\n                \r\n                <div className=\"border-t pt-4\">\r\n                  {form.fields.map((field, index) => {\r\n                    const value = selectedResponse.data[field.id || index];\r\n                    return (\r\n                      <div key={field.id || index} className=\"mb-4\">\r\n                        <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                          {field.label}\r\n                        </label>\r\n                        <div className=\"text-sm text-gray-900 bg-gray-50 p-3 rounded-md\">\r\n                          {Array.isArray(value) ? value.join(', ') : (value || 'No response')}\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"mt-6 flex justify-end\">\r\n                <button\r\n                  onClick={() => setShowResponseModal(false)}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormResponses;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OACEC,SAAS,CACTC,QAAQ,CACRC,KAAK,CACLC,QAAQ,CACRC,IAAI,CACJC,SAAS,KACJ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,MAAO,CAAC,CAAGf,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEgB,WAAW,CAAEC,gBAAgB,CAAEC,OAAQ,CAAC,CAAGjB,OAAO,CAAC,CAAC,CAE5D,KAAM,CAACkB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvB,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACwB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAAC0B,IAAI,CAAEC,OAAO,CAAC,CAAG3B,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAAC4B,SAAS,CAAEC,YAAY,CAAC,CAAG7B,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAG/B,QAAQ,CAAC,IAAI,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACd+B,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACf,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFD,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,CAACE,QAAQ,CAAEC,aAAa,CAAC,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAAC,CAClDjB,WAAW,CAACF,MAAM,CAAC,CACnBG,gBAAgB,CAACH,MAAM,CAAC,CACzB,CAAC,CAEFU,OAAO,CAACM,QAAQ,CAAC,CACjBJ,YAAY,CAACK,aAAa,CAAC,CAC7B,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACRN,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAQ,UAAU,CAAIC,UAAU,EAAK,CACjC,MAAO,IAAI,CAAAC,IAAI,CAACD,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAE,CACtDC,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,OAAO,CACdC,GAAG,CAAE,SAAS,CACdC,IAAI,CAAE,SAAS,CACfC,MAAM,CAAE,SACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAI,CAACtB,IAAI,EAAIE,SAAS,CAACqB,MAAM,GAAK,CAAC,CAAE,OAErC,KAAM,CAAAC,OAAO,CAAG,CACd;AACA,CAAC,MAAM,CAAE,cAAc,CAAE,GAAGxB,IAAI,CAACyB,MAAM,CAACC,GAAG,CAACC,KAAK,EAAIA,KAAK,CAACC,KAAK,CAAC,CAAC,CACnE,CAED;AACA1B,SAAS,CAAC2B,OAAO,CAACC,QAAQ,EAAI,CAC5B,KAAM,CAAAC,GAAG,CAAG,CACVD,QAAQ,CAACE,SAAS,UAAAC,MAAA,CAAYH,QAAQ,CAACI,OAAO,CAAE,CAChDrB,UAAU,CAACiB,QAAQ,CAACK,YAAY,CAAC,CACjC,GAAGnC,IAAI,CAACyB,MAAM,CAACC,GAAG,CAACC,KAAK,EAAI,CAC1B,KAAM,CAAAS,KAAK,CAAGN,QAAQ,CAACO,IAAI,CAACV,KAAK,CAACW,EAAE,EAAItC,IAAI,CAACyB,MAAM,CAACc,OAAO,CAACZ,KAAK,CAAC,CAAC,CACnE,MAAO,CAAAa,KAAK,CAACC,OAAO,CAACL,KAAK,CAAC,CAAGA,KAAK,CAACM,IAAI,CAAC,IAAI,CAAC,CAAIN,KAAK,EAAI,EAAG,CAChE,CAAC,CAAC,CACH,CACDZ,OAAO,CAACmB,IAAI,CAACZ,GAAG,CAAC,CACnB,CAAC,CAAC,CAEF,KAAM,CAAAa,UAAU,CAAGpB,OAAO,CAACE,GAAG,CAACK,GAAG,EAAIA,GAAG,CAACL,GAAG,CAACmB,IAAI,OAAAZ,MAAA,CAAQY,IAAI,MAAG,CAAC,CAACH,IAAI,CAAC,GAAG,CAAC,CAAC,CAACA,IAAI,CAAC,IAAI,CAAC,CACxF,KAAM,CAAAI,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACH,UAAU,CAAC,CAAE,CAAEI,IAAI,CAAE,UAAW,CAAC,CAAC,CACzD,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CAC5C,KAAM,CAAAO,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,IAAAxB,MAAA,CAAMjC,IAAI,CAAC0D,KAAK,kBAAgB,CAC1CL,CAAC,CAACM,KAAK,CAAC,CAAC,CACTT,MAAM,CAACC,GAAG,CAACS,eAAe,CAACX,GAAG,CAAC,CACjC,CAAC,CAED,KAAM,CAAAY,iBAAiB,CAAI/B,QAAQ,EAAK,CACtCjC,mBAAmB,CAACiC,QAAQ,CAAC,CAC7B/B,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,GAAIK,WAAW,CAAE,CACf,mBACEjB,IAAA,QAAK2E,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE5E,IAAA,QAAK2E,SAAS,CAAC,iBAAiB,CAAM,CAAC,CACpC,CAAC,CAEV,CAEA,GAAI,CAAC9D,IAAI,CAAE,CACT,mBACEb,IAAA,QAAK2E,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE1E,KAAA,QAAKyE,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B5E,IAAA,OAAI2E,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC5E5E,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMxE,QAAQ,CAAC,QAAQ,CAAE,CAClCsE,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpD,mBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACE1E,KAAA,QAAKyE,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtC5E,IAAA,QAAK2E,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1C5E,IAAA,QAAK2E,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD1E,KAAA,QAAKyE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1E,KAAA,QAAKyE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1E,KAAA,WACE2E,OAAO,CAAEA,CAAA,GAAMxE,QAAQ,CAAC,QAAQ,CAAE,CAClCsE,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAE/D5E,IAAA,CAACP,SAAS,EAACkF,SAAS,CAAC,cAAc,CAAE,CAAC,oBAExC,EAAQ,CAAC,cACT3E,IAAA,OAAI2E,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAC,gBAEpD,CAAI,CAAC,EACF,CAAC,cAEN5E,IAAA,QAAK2E,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1C1E,KAAA,WACE2E,OAAO,CAAE1C,eAAgB,CACzB2C,QAAQ,CAAE/D,SAAS,CAACqB,MAAM,GAAK,CAAE,CACjCuC,SAAS,CAAC,2KAA2K,CAAAC,QAAA,eAErL5E,IAAA,CAACN,QAAQ,EAACiF,SAAS,CAAC,cAAc,CAAE,CAAC,aAEvC,EAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,cAENzE,KAAA,QAAKyE,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAE1D5E,IAAA,QAAK2E,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC5E1E,KAAA,QAAKyE,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C1E,KAAA,QAAA0E,QAAA,eACE5E,IAAA,OAAI2E,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAE/D,IAAI,CAAC0D,KAAK,CAAK,CAAC,CACtE1D,IAAI,CAACkE,WAAW,eACf/E,IAAA,MAAG2E,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAE/D,IAAI,CAACkE,WAAW,CAAI,CACxD,cACD7E,KAAA,QAAKyE,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChE1E,KAAA,QAAKyE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5E,IAAA,CAACL,KAAK,EAACgF,SAAS,CAAC,cAAc,CAAE,CAAC,CACjC5D,SAAS,CAACqB,MAAM,CAAC,YACpB,EAAK,CAAC,cACNlC,KAAA,QAAKyE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5E,IAAA,CAACJ,QAAQ,EAAC+E,SAAS,CAAC,cAAc,CAAE,CAAC,WAC7B,CAACjD,UAAU,CAACb,IAAI,CAACmE,UAAU,CAAC,EACjC,CAAC,EACH,CAAC,EACH,CAAC,cACN9E,KAAA,QAAKyE,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB5E,IAAA,QAAK2E,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAE7D,SAAS,CAACqB,MAAM,CAAM,CAAC,cAC7EpC,IAAA,QAAK2E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,iBAAe,CAAK,CAAC,EACzD,CAAC,EACH,CAAC,CACH,CAAC,CAGLpE,OAAO,cACNR,IAAA,QAAK2E,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxC5E,IAAA,QAAK2E,SAAS,CAAC,iBAAiB,CAAM,CAAC,CACpC,CAAC,CACJ5D,SAAS,CAACqB,MAAM,GAAK,CAAC,cACxBlC,KAAA,QAAKyE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5E,IAAA,QAAK2E,SAAS,CAAC,sCAAsC,CAAAC,QAAA,cACnD5E,IAAA,CAACF,SAAS,EAAC6E,SAAS,CAAC,WAAW,CAAE,CAAC,CAChC,CAAC,cACN3E,IAAA,OAAI2E,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,kBAEvD,CAAI,CAAC,cACL5E,IAAA,MAAG2E,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,kEAE7B,CAAG,CAAC,EACD,CAAC,cAEN1E,KAAA,QAAKyE,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eACnE5E,IAAA,QAAK2E,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjD5E,IAAA,OAAI2E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,CACjE,CAAC,cAEN5E,IAAA,QAAK2E,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC9B1E,KAAA,UAAOyE,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACpD5E,IAAA,UAAO2E,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC3B1E,KAAA,OAAA0E,QAAA,eACE5E,IAAA,OAAI2E,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,MAE/F,CAAI,CAAC,cACL5E,IAAA,OAAI2E,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,WAE/F,CAAI,CAAC,CACJ/D,IAAI,CAACyB,MAAM,CAACC,GAAG,CAAC,CAACC,KAAK,CAAEyC,KAAK,gBAC5BjF,IAAA,OAA4B2E,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CACnHpC,KAAK,CAACC,KAAK,EADLD,KAAK,CAACW,EAAE,EAAI8B,KAEjB,CACL,CAAC,cACFjF,IAAA,OAAI2E,SAAS,CAAC,gFAAgF,CAAAC,QAAA,CAAC,SAE/F,CAAI,CAAC,EACH,CAAC,CACA,CAAC,cACR5E,IAAA,UAAO2E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CACjD7D,SAAS,CAACwB,GAAG,CAAC,CAACI,QAAQ,CAAEuC,aAAa,gBACrChF,KAAA,OAAsByE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAChD5E,IAAA,OAAI2E,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAC/D1E,KAAA,QAAKyE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChC5E,IAAA,QAAK2E,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACnF5E,IAAA,CAACH,IAAI,EAAC8E,SAAS,CAAC,0BAA0B,CAAE,CAAC,CAC1C,CAAC,cACNzE,KAAA,QAAKyE,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5E,IAAA,QAAK2E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC/CjC,QAAQ,CAACE,SAAS,UAAAC,MAAA,CAAYH,QAAQ,CAACI,OAAO,CAAE,CAC9C,CAAC,cACN/C,IAAA,QAAK2E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CACnCjC,QAAQ,CAACwC,UAAU,CACjB,CAAC,EACH,CAAC,EACH,CAAC,CACJ,CAAC,cACLnF,IAAA,OAAI2E,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAC9DlD,UAAU,CAACiB,QAAQ,CAACK,YAAY,CAAC,CAChC,CAAC,CACJnC,IAAI,CAACyB,MAAM,CAACC,GAAG,CAAC,CAACC,KAAK,CAAE4C,UAAU,GAAK,CACtC,KAAM,CAAAnC,KAAK,CAAGN,QAAQ,CAACO,IAAI,CAACV,KAAK,CAACW,EAAE,EAAIiC,UAAU,CAAC,CACnD,mBACEpF,IAAA,OAAiC2E,SAAS,CAAC,iCAAiC,CAAAC,QAAA,cAC1E5E,IAAA,QAAK2E,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BvB,KAAK,CAACC,OAAO,CAACL,KAAK,CAAC,CAAGA,KAAK,CAACM,IAAI,CAAC,IAAI,CAAC,CAAIN,KAAK,EAAI,GAAI,CACtD,CAAC,EAHCT,KAAK,CAACW,EAAE,EAAIiC,UAIjB,CAAC,CAET,CAAC,CAAC,cACFpF,IAAA,OAAI2E,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAC7D5E,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMH,iBAAiB,CAAC/B,QAAQ,CAAE,CAC3CgC,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpD,cAED,CAAQ,CAAC,CACP,CAAC,GApCEjC,QAAQ,CAACQ,EAqCd,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CACN,EACE,CAAC,CAGLxC,iBAAiB,EAAIF,gBAAgB,eACpCT,IAAA,QAAK2E,SAAS,CAAC,4EAA4E,CAAAC,QAAA,cACzF5E,IAAA,QAAK2E,SAAS,CAAC,oFAAoF,CAAAC,QAAA,cACjG1E,KAAA,QAAKyE,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB1E,KAAA,QAAKyE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD5E,IAAA,OAAI2E,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,kBAElD,CAAI,CAAC,cACL5E,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMjE,oBAAoB,CAAC,KAAK,CAAE,CAC3C+D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAC9C,MAED,CAAQ,CAAC,EACN,CAAC,cAEN1E,KAAA,QAAKyE,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxB1E,KAAA,QAAKyE,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtE1E,KAAA,SAAA0E,QAAA,EAAM,QAAM,CAACnE,gBAAgB,CAACoC,SAAS,UAAAC,MAAA,CAAYrC,gBAAgB,CAACsC,OAAO,CAAE,EAAO,CAAC,cACrF7C,KAAA,SAAA0E,QAAA,EAAM,aAAW,CAAClD,UAAU,CAACjB,gBAAgB,CAACuC,YAAY,CAAC,EAAO,CAAC,EAChE,CAAC,cAENhD,IAAA,QAAK2E,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B/D,IAAI,CAACyB,MAAM,CAACC,GAAG,CAAC,CAACC,KAAK,CAAEyC,KAAK,GAAK,CACjC,KAAM,CAAAhC,KAAK,CAAGxC,gBAAgB,CAACyC,IAAI,CAACV,KAAK,CAACW,EAAE,EAAI8B,KAAK,CAAC,CACtD,mBACE/E,KAAA,QAA6ByE,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC3C5E,IAAA,UAAO2E,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAC5DpC,KAAK,CAACC,KAAK,CACP,CAAC,cACRzC,IAAA,QAAK2E,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC7DvB,KAAK,CAACC,OAAO,CAACL,KAAK,CAAC,CAAGA,KAAK,CAACM,IAAI,CAAC,IAAI,CAAC,CAAIN,KAAK,EAAI,aAAc,CAChE,CAAC,GANET,KAAK,CAACW,EAAE,EAAI8B,KAOjB,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,cAENjF,IAAA,QAAK2E,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpC5E,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMjE,oBAAoB,CAAC,KAAK,CAAE,CAC3C+D,SAAS,CAAC,6GAA6G,CAAAC,QAAA,CACxH,OAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzE,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}