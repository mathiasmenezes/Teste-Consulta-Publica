{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams,Link}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{Lock,Eye,EyeOff,CheckCircle,AlertCircle}from'lucide-react';import Footer from'../common/Footer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ResetPassword=()=>{const{token}=useParams();const{resetPassword}=useAuth();const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[isLoading,setIsLoading]=useState(false);const[isSubmitted,setIsSubmitted]=useState(false);const[error,setError]=useState('');const[isValidToken,setIsValidToken]=useState(null);const validateToken=useCallback(async()=>{try{// In a real app, you would validate the token with the backend\n// For demo purposes, we'll simulate token validation\nconst storedData=localStorage.getItem('passwordResetData');if(storedData){const resetData=JSON.parse(storedData);if(resetData.token===token&&new Date(resetData.expiresAt)>new Date()){setIsValidToken(true);}else{setIsValidToken(false);}}else{setIsValidToken(false);}}catch(error){setIsValidToken(false);}},[token]);useEffect(()=>{validateToken();},[validateToken]);const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');// Validation\nif(password.length<6){setError('A senha deve ter pelo menos 6 caracteres');setIsLoading(false);return;}if(password!==confirmPassword){setError('As senhas não coincidem');setIsLoading(false);return;}try{const result=await resetPassword(token,password);if(result.success){setIsSubmitted(true);// Clear the reset token from localStorage\nlocalStorage.removeItem('passwordResetData');}else{setError(result.error||'Falha ao redefinir senha');}}catch(error){setError('Falha ao redefinir senha');}finally{setIsLoading(false);}};if(isValidToken===null){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full space-y-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-xl font-semibold text-gray-900\",children:\"Verificando link...\"})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}if(isValidToken===false){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full space-y-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-8 w-8 text-red-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Link de Redefini\\xE7\\xE3o Inv\\xE1lido\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Este link de redefini\\xE7\\xE3o de senha \\xE9 inv\\xE1lido ou expirou. Por favor, solicite um novo.\"}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Solicitar novo link\"})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}if(isSubmitted){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full space-y-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-8 w-8 text-green-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Senha Redefinida!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Sua senha foi redefinida com sucesso! Agora voc\\xEA pode fazer login com sua nova senha.\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Ir para o login\"})]})})}),/*#__PURE__*/_jsx(Footer,{})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-600\",children:/*#__PURE__*/_jsx(Lock,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Redefinir Senha\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"Digite sua nova senha abaixo\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"sr-only\",children:\"Nova senha\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:showPassword?'text':'password',required:true,className:\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Nova senha\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowPassword(!showPassword),children:showPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-gray-400\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"A senha deve ter pelo menos 6 caracteres\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirm-password\",className:\"sr-only\",children:\"Confirmar nova senha\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"confirm-password\",name:\"confirm-password\",type:showConfirmPassword?'text':'password',required:true,className:\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",placeholder:\"Confirmar nova senha\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute inset-y-0 right-0 pr-3 flex items-center\",onClick:()=>setShowConfirmPassword(!showConfirmPassword),children:showConfirmPassword?/*#__PURE__*/_jsx(EyeOff,{className:\"h-5 w-5 text-gray-400\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5 text-gray-400\"})})]})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Lock,{className:\"h-5 w-5 mr-2\"}),\"Redefinir Senha\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"inline-flex items-center text-primary-600 hover:text-primary-500 text-sm font-medium\",children:\"Voltar para o login\"})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default ResetPassword;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Link","useAuth","Lock","Eye","EyeOff","CheckCircle","AlertCircle","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ResetPassword","token","resetPassword","password","setPassword","confirmPassword","setConfirmPassword","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","isLoading","setIsLoading","isSubmitted","setIsSubmitted","error","setError","isValidToken","setIsValidToken","validateToken","storedData","localStorage","getItem","resetData","JSON","parse","Date","expiresAt","handleSubmit","e","preventDefault","length","result","success","removeItem","className","children","to","onSubmit","htmlFor","id","name","type","required","placeholder","value","onChange","target","onClick","disabled"],"sources":["C:/Users/Highcastle/Documents/Cidadão+ Consulta Pública/src/components/auth/ResetPassword.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { Lock, Eye, EyeOff, CheckCircle, AlertCircle } from 'lucide-react';\nimport Footer from '../common/Footer';\n\nconst ResetPassword = () => {\n  const { token } = useParams();\n  const { resetPassword } = useAuth();\n  \n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [error, setError] = useState('');\n  const [isValidToken, setIsValidToken] = useState(null);\n\n  const validateToken = useCallback(async () => {\n    try {\n      // In a real app, you would validate the token with the backend\n      // For demo purposes, we'll simulate token validation\n      const storedData = localStorage.getItem('passwordResetData');\n      if (storedData) {\n        const resetData = JSON.parse(storedData);\n        if (resetData.token === token && new Date(resetData.expiresAt) > new Date()) {\n          setIsValidToken(true);\n        } else {\n          setIsValidToken(false);\n        }\n      } else {\n        setIsValidToken(false);\n      }\n    } catch (error) {\n      setIsValidToken(false);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    validateToken();\n  }, [validateToken]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    // Validation\n    if (password.length < 6) {\n      setError('A senha deve ter pelo menos 6 caracteres');\n      setIsLoading(false);\n      return;\n    }\n\n    if (password !== confirmPassword) {\n      setError('As senhas não coincidem');\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      const result = await resetPassword(token, password);\n      if (result.success) {\n        setIsSubmitted(true);\n        // Clear the reset token from localStorage\n        localStorage.removeItem('passwordResetData');\n      } else {\n        setError(result.error || 'Falha ao redefinir senha');\n      }\n    } catch (error) {\n      setError('Falha ao redefinir senha');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isValidToken === null) {\n    return (\n      <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\">\n        <div className=\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-md w-full space-y-8\">\n            <div className=\"text-center\">\n              <div className=\"loading-spinner mx-auto\"></div>\n              <h2 className=\"mt-4 text-xl font-semibold text-gray-900\">\n                Verificando link...\n              </h2>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (isValidToken === false) {\n    return (\n      <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\">\n        <div className=\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-md w-full space-y-8\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mb-4\">\n                <AlertCircle className=\"h-8 w-8 text-red-600\" />\n              </div>\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                Link de Redefinição Inválido\n              </h2>\n              <p className=\"text-gray-600 mb-6\">\n                Este link de redefinição de senha é inválido ou expirou. Por favor, solicite um novo.\n              </p>\n              <Link\n                to=\"/forgot-password\"\n                className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                Solicitar novo link\n              </Link>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (isSubmitted) {\n    return (\n      <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\">\n        <div className=\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n          <div className=\"max-w-md w-full space-y-8\">\n            <div className=\"text-center\">\n              <div className=\"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\n                <CheckCircle className=\"h-8 w-8 text-green-600\" />\n              </div>\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                Senha Redefinida!\n              </h2>\n              <p className=\"text-gray-600 mb-6\">\n                Sua senha foi redefinida com sucesso! Agora você pode fazer login com sua nova senha.\n              </p>\n              <Link\n                to=\"/login\"\n                className=\"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                Ir para o login\n              </Link>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100\">\n      <div className=\"flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md w-full space-y-8\">\n          <div>\n            <div className=\"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-600\">\n              <Lock className=\"h-8 w-8 text-white\" />\n            </div>\n            <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n              Redefinir Senha\n            </h2>\n            <p className=\"mt-2 text-center text-sm text-gray-600\">\n              Digite sua nova senha abaixo\n            </p>\n          </div>\n\n          <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n            <div className=\"space-y-4\">\n              <div>\n                <label htmlFor=\"password\" className=\"sr-only\">\n                  Nova senha\n                </label>\n                <div className=\"relative\">\n                  <input\n                    id=\"password\"\n                    name=\"password\"\n                    type={showPassword ? 'text' : 'password'}\n                    required\n                    className=\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                    placeholder=\"Nova senha\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    onClick={() => setShowPassword(!showPassword)}\n                  >\n                    {showPassword ? (\n                      <EyeOff className=\"h-5 w-5 text-gray-400\" />\n                    ) : (\n                      <Eye className=\"h-5 w-5 text-gray-400\" />\n                    )}\n                  </button>\n                </div>\n                <p className=\"mt-1 text-xs text-gray-500\">\n                  A senha deve ter pelo menos 6 caracteres\n                </p>\n              </div>\n\n              <div>\n                <label htmlFor=\"confirm-password\" className=\"sr-only\">\n                  Confirmar nova senha\n                </label>\n                <div className=\"relative\">\n                  <input\n                    id=\"confirm-password\"\n                    name=\"confirm-password\"\n                    type={showConfirmPassword ? 'text' : 'password'}\n                    required\n                    className=\"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\"\n                    placeholder=\"Confirmar nova senha\"\n                    value={confirmPassword}\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                  />\n                  <button\n                    type=\"button\"\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\n                  >\n                    {showConfirmPassword ? (\n                      <EyeOff className=\"h-5 w-5 text-gray-400\" />\n                    ) : (\n                      <Eye className=\"h-5 w-5 text-gray-400\" />\n                    )}\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n                <p className=\"text-sm text-red-800\">{error}</p>\n              </div>\n            )}\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={isLoading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isLoading ? (\n                  <div className=\"loading-spinner\"></div>\n                ) : (\n                  <>\n                    <Lock className=\"h-5 w-5 mr-2\" />\n                    Redefinir Senha\n                  </>\n                )}\n              </button>\n            </div>\n\n            <div className=\"text-center\">\n              <Link\n                to=\"/login\"\n                className=\"inline-flex items-center text-primary-600 hover:text-primary-500 text-sm font-medium\"\n              >\n                Voltar para o login\n              </Link>\n            </div>\n          </form>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default ResetPassword;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}