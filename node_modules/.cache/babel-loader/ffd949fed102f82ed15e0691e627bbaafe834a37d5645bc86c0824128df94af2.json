{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Highcastle\\\\Documents\\\\Cidad\\xE3o+ Consulta P\\xFAblica\\\\src\\\\components\\\\admin\\\\FormAnalytics.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useForm } from '../../contexts/FormContext';\nimport { ArrowLeft, BarChart3, Users, Calendar, TrendingUp, TrendingDown, CheckCircle, Clock, FileText, PieChart, Activity, Download } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormAnalytics = () => {\n  _s();\n  var _form$fields;\n  const {\n    formId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    getFormById,\n    getFormResponses\n  } = useForm();\n  const [form, setForm] = useState(null);\n  const [responses, setResponses] = useState([]);\n  const [analytics, setAnalytics] = useState({\n    totalResponses: 0,\n    completionRate: 0,\n    averageCompletionTime: 0,\n    fieldAnalytics: [],\n    responseTrends: [],\n    topResponses: []\n  });\n  const [loading, setLoading] = useState(true);\n  const [selectedTimeframe, setSelectedTimeframe] = useState('7d');\n  useEffect(() => {\n    loadFormData();\n  }, [formId]);\n  const loadFormData = async () => {\n    try {\n      setLoading(true);\n      const formData = await getFormById(formId);\n      const responsesData = await getFormResponses(formId);\n      setForm(formData);\n      setResponses(responsesData);\n\n      // Calculate analytics\n      const calculatedAnalytics = calculateAnalytics(formData, responsesData);\n      setAnalytics(calculatedAnalytics);\n    } catch (error) {\n      console.error('Error loading form analytics:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const calculateAnalytics = (formData, responsesData) => {\n    if (!formData || !responsesData) return analytics;\n    const totalResponses = responsesData.length;\n    const fields = formData.fields || [];\n\n    // Calculate field analytics (exclude divider and static_text fields)\n    const fieldAnalytics = fields.filter(field => field.type !== 'divider' && field.type !== 'static_text').map(field => {\n      const fieldResponses = responsesData.map(response => {\n        const fieldData = response.data[field.id] || response.data[field.label];\n        return fieldData;\n      }).filter(Boolean);\n      const completionRate = totalResponses > 0 ? fieldResponses.length / totalResponses * 100 : 0;\n      let fieldStats = {\n        fieldId: field.id,\n        fieldLabel: field.label,\n        fieldType: field.type,\n        completionRate: Math.round(completionRate * 100) / 100,\n        totalResponses: fieldResponses.length,\n        averageValue: null,\n        topValues: []\n      };\n\n      // Calculate field-specific analytics\n      if (field.type === 'number') {\n        const numbers = fieldResponses.map(r => parseFloat(r)).filter(n => !isNaN(n));\n        fieldStats.averageValue = numbers.length > 0 ? (numbers.reduce((a, b) => a + b, 0) / numbers.length).toFixed(2) : null;\n      } else if (['select', 'radio', 'checkbox'].includes(field.type)) {\n        const valueCounts = {};\n        fieldResponses.forEach(value => {\n          if (Array.isArray(value)) {\n            value.forEach(v => valueCounts[v] = (valueCounts[v] || 0) + 1);\n          } else {\n            valueCounts[value] = (valueCounts[value] || 0) + 1;\n          }\n        });\n        fieldStats.topValues = Object.entries(valueCounts).sort(([, a], [, b]) => b - a).slice(0, 5).map(([value, count]) => ({\n          value,\n          count,\n          percentage: Math.round(count / fieldResponses.length * 100)\n        }));\n      }\n      return fieldStats;\n    });\n\n    // Calculate response trends (last 7 days)\n    const now = new Date();\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\n    const recentResponses = responsesData.filter(response => new Date(response.submittedAt) >= sevenDaysAgo);\n    const responseTrends = [];\n    for (let i = 6; i >= 0; i--) {\n      const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);\n      const dayResponses = recentResponses.filter(response => {\n        const responseDate = new Date(response.submittedAt);\n        return responseDate.toDateString() === date.toDateString();\n      });\n      responseTrends.push({\n        date: date.toLocaleDateString('pt-BR', {\n          month: 'short',\n          day: 'numeric'\n        }),\n        count: dayResponses.length\n      });\n    }\n\n    // Calculate completion time (if available)\n    const completionTimes = responsesData.filter(response => response.submittedAt && response.createdAt).map(response => {\n      const submitted = new Date(response.submittedAt);\n      const created = new Date(response.createdAt);\n      return (submitted - created) / 1000 / 60; // in minutes\n    });\n    const averageCompletionTime = completionTimes.length > 0 ? Math.round(completionTimes.reduce((a, b) => a + b, 0) / completionTimes.length) : 0;\n    return {\n      totalResponses,\n      completionRate: totalResponses > 0 ? 100 : 0,\n      // Assuming all responses are complete\n      averageCompletionTime,\n      fieldAnalytics,\n      responseTrends,\n      topResponses: responsesData.slice(0, 5)\n    };\n  };\n  const exportAnalytics = () => {\n    const csvContent = generateCSV();\n    const blob = new Blob([csvContent], {\n      type: 'text/csv;charset=utf-8;'\n    });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', `form-analytics-${formId}.csv`);\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n  const generateCSV = () => {\n    if (!form || !responses.length) return '';\n    const validFields = form.fields.filter(field => field.type !== 'divider' && field.type !== 'static_text');\n    const headers = ['ID da Resposta', 'Enviado em', 'ID do Usuário', ...validFields.map(f => f.label)];\n    const rows = responses.map(response => [response.id, new Date(response.submittedAt).toLocaleString('pt-BR'), response.userId, ...validFields.map(field => {\n      const value = response.data[field.id] || response.data[field.label];\n      return Array.isArray(value) ? value.join(', ') : value || '';\n    })]);\n    return [headers, ...rows].map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this);\n  }\n  if (!form) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"mx-auto h-12 w-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900 dark:text-white\",\n          children: \"Formul\\xE1rio n\\xE3o encontrado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 dark:bg-gray-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/admin'),\n              className: \"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), \"Voltar\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(BarChart3, {\n                className: \"h-5 w-5 text-white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-semibold text-gray-900 dark:text-white\",\n              children: \"Estat\\xEDsticas do Formul\\xE1rio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: exportAnalytics,\n              className: \"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\",\n              children: [/*#__PURE__*/_jsxDEV(Download, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), \"Exportar CSV\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900 dark:text-white mb-2\",\n          children: form.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), form.description && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 dark:text-gray-400 mb-4\",\n          children: form.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), \"Criado em \", new Date(form.createdAt).toLocaleDateString('pt-BR')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), ((_form$fields = form.fields) === null || _form$fields === void 0 ? void 0 : _form$fields.length) || 0, \" campos\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(Users, {\n                className: \"h-8 w-8 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                children: \"Total de Respostas\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-gray-900 dark:text-white\",\n                children: analytics.totalResponses\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"h-8 w-8 text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                children: \"Taxa de Conclus\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-gray-900 dark:text-white\",\n                children: [analytics.completionRate, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(Clock, {\n                className: \"h-8 w-8 text-yellow-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                children: \"Tempo M\\xE9dio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-gray-900 dark:text-white\",\n                children: [analytics.averageCompletionTime, \" min\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-shrink-0\",\n              children: /*#__PURE__*/_jsxDEV(Activity, {\n                className: \"h-8 w-8 text-purple-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ml-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-500 dark:text-gray-400\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-gray-900 dark:text-white\",\n                children: form.isActive ? 'Ativo' : 'Inativo'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: \"Tend\\xEAncia de Respostas (\\xDAltimos 7 dias)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end space-x-2 h-32\",\n          children: analytics.responseTrends.map((trend, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-blue-500 rounded-t\",\n              style: {\n                height: `${Math.max(trend.count * 10, 4)}px`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-gray-500 dark:text-gray-400 mt-2\",\n              children: trend.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs font-medium text-gray-900 dark:text-white\",\n              children: trend.count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: \"Estat\\xEDsticas por Campo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: analytics.fieldAnalytics.map((field, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 dark:border-gray-700 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900 dark:text-white\",\n                children: field.fieldLabel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500 dark:text-gray-400 capitalize\",\n                children: field.fieldType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"Taxa de Preenchimento\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n                  children: [field.completionRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"Respostas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n                  children: field.totalResponses\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), field.averageValue && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500 dark:text-gray-400\",\n                  children: \"Valor M\\xE9dio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n                  children: field.averageValue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), field.topValues && field.topValues.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 dark:text-gray-400 mb-2\",\n                children: \"Valores Mais Frequentes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: field.topValues.map((value, valueIndex) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400\",\n                  children: [value.value, \" (\", value.percentage, \"%)\"]\n                }, valueIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Progresso\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [field.completionRate, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                  style: {\n                    width: `${field.completionRate}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 dark:text-white mb-4\",\n          children: \"Respostas Recentes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), analytics.topResponses.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 dark:text-gray-400\",\n          children: \"Nenhuma resposta ainda.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: analytics.topResponses.map((response, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 dark:border-gray-700 rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium text-gray-900 dark:text-white\",\n                children: [\"Resposta #\", response.id.slice(-6)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                children: new Date(response.submittedAt).toLocaleString('pt-BR')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 dark:text-gray-400\",\n              children: [Object.entries(response.data).slice(0, 3).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: [key, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: Array.isArray(value) ? value.join(', ') : value\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this)]\n              }, key, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 23\n              }, this)), Object.keys(response.data).length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                children: [\"+\", Object.keys(response.data).length - 3, \" mais campos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s(FormAnalytics, \"6l8REpBjyGMISact7BOjGWYCD5Y=\", false, function () {\n  return [useParams, useNavigate, useForm];\n});\n_c = FormAnalytics;\nexport default FormAnalytics;\nvar _c;\n$RefreshReg$(_c, \"FormAnalytics\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useForm","ArrowLeft","BarChart3","Users","Calendar","TrendingUp","TrendingDown","CheckCircle","Clock","FileText","PieChart","Activity","Download","jsxDEV","_jsxDEV","FormAnalytics","_s","_form$fields","formId","navigate","getFormById","getFormResponses","form","setForm","responses","setResponses","analytics","setAnalytics","totalResponses","completionRate","averageCompletionTime","fieldAnalytics","responseTrends","topResponses","loading","setLoading","selectedTimeframe","setSelectedTimeframe","loadFormData","formData","responsesData","calculatedAnalytics","calculateAnalytics","error","console","length","fields","filter","field","type","map","fieldResponses","response","fieldData","data","id","label","Boolean","fieldStats","fieldId","fieldLabel","fieldType","Math","round","averageValue","topValues","numbers","r","parseFloat","n","isNaN","reduce","a","b","toFixed","includes","valueCounts","forEach","value","Array","isArray","v","Object","entries","sort","slice","count","percentage","now","Date","sevenDaysAgo","getTime","recentResponses","submittedAt","i","date","dayResponses","responseDate","toDateString","push","toLocaleDateString","month","day","completionTimes","createdAt","submitted","created","exportAnalytics","csvContent","generateCSV","blob","Blob","link","document","createElement","url","URL","createObjectURL","setAttribute","style","visibility","body","appendChild","click","removeChild","validFields","headers","f","rows","toLocaleString","userId","join","row","cell","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","description","isActive","trend","index","height","max","valueIndex","width","key","keys","_c","$RefreshReg$"],"sources":["C:/Users/Highcastle/Documents/Cidadão+ Consulta Pública/src/components/admin/FormAnalytics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useForm } from '../../contexts/FormContext';\r\nimport { \r\n  ArrowLeft, \r\n  BarChart3, \r\n  Users, \r\n  Calendar, \r\n  TrendingUp, \r\n  TrendingDown,\r\n  CheckCircle,\r\n  Clock,\r\n  FileText,\r\n  PieChart,\r\n  Activity,\r\n  Download\r\n} from 'lucide-react';\r\n\r\nconst FormAnalytics = () => {\r\n  const { formId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { getFormById, getFormResponses } = useForm();\r\n  \r\n  const [form, setForm] = useState(null);\r\n  const [responses, setResponses] = useState([]);\r\n  const [analytics, setAnalytics] = useState({\r\n    totalResponses: 0,\r\n    completionRate: 0,\r\n    averageCompletionTime: 0,\r\n    fieldAnalytics: [],\r\n    responseTrends: [],\r\n    topResponses: []\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState('7d');\r\n\r\n  useEffect(() => {\r\n    loadFormData();\r\n  }, [formId]);\r\n\r\n  const loadFormData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const formData = await getFormById(formId);\r\n      const responsesData = await getFormResponses(formId);\r\n      \r\n      setForm(formData);\r\n      setResponses(responsesData);\r\n      \r\n      // Calculate analytics\r\n      const calculatedAnalytics = calculateAnalytics(formData, responsesData);\r\n      setAnalytics(calculatedAnalytics);\r\n    } catch (error) {\r\n      console.error('Error loading form analytics:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateAnalytics = (formData, responsesData) => {\r\n    if (!formData || !responsesData) return analytics;\r\n\r\n    const totalResponses = responsesData.length;\r\n    const fields = formData.fields || [];\r\n    \r\n    // Calculate field analytics (exclude divider and static_text fields)\r\n    const fieldAnalytics = fields\r\n      .filter(field => field.type !== 'divider' && field.type !== 'static_text')\r\n      .map(field => {\r\n        const fieldResponses = responsesData.map(response => {\r\n          const fieldData = response.data[field.id] || response.data[field.label];\r\n          return fieldData;\r\n        }).filter(Boolean);\r\n\r\n        const completionRate = totalResponses > 0 ? (fieldResponses.length / totalResponses) * 100 : 0;\r\n        \r\n        let fieldStats = {\r\n          fieldId: field.id,\r\n          fieldLabel: field.label,\r\n          fieldType: field.type,\r\n          completionRate: Math.round(completionRate * 100) / 100,\r\n          totalResponses: fieldResponses.length,\r\n          averageValue: null,\r\n          topValues: []\r\n        };\r\n\r\n        // Calculate field-specific analytics\r\n        if (field.type === 'number') {\r\n          const numbers = fieldResponses.map(r => parseFloat(r)).filter(n => !isNaN(n));\r\n          fieldStats.averageValue = numbers.length > 0 ? (numbers.reduce((a, b) => a + b, 0) / numbers.length).toFixed(2) : null;\r\n        } else if (['select', 'radio', 'checkbox'].includes(field.type)) {\r\n          const valueCounts = {};\r\n          fieldResponses.forEach(value => {\r\n            if (Array.isArray(value)) {\r\n              value.forEach(v => valueCounts[v] = (valueCounts[v] || 0) + 1);\r\n            } else {\r\n              valueCounts[value] = (valueCounts[value] || 0) + 1;\r\n            }\r\n          });\r\n          fieldStats.topValues = Object.entries(valueCounts)\r\n            .sort(([,a], [,b]) => b - a)\r\n            .slice(0, 5)\r\n            .map(([value, count]) => ({ value, count, percentage: Math.round((count / fieldResponses.length) * 100) }));\r\n        }\r\n\r\n        return fieldStats;\r\n      });\r\n\r\n    // Calculate response trends (last 7 days)\r\n    const now = new Date();\r\n    const sevenDaysAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);\r\n    const recentResponses = responsesData.filter(response => \r\n      new Date(response.submittedAt) >= sevenDaysAgo\r\n    );\r\n\r\n    const responseTrends = [];\r\n    for (let i = 6; i >= 0; i--) {\r\n      const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);\r\n      const dayResponses = recentResponses.filter(response => {\r\n        const responseDate = new Date(response.submittedAt);\r\n        return responseDate.toDateString() === date.toDateString();\r\n      });\r\n      responseTrends.push({\r\n        date: date.toLocaleDateString('pt-BR', { month: 'short', day: 'numeric' }),\r\n        count: dayResponses.length\r\n      });\r\n    }\r\n\r\n    // Calculate completion time (if available)\r\n    const completionTimes = responsesData\r\n      .filter(response => response.submittedAt && response.createdAt)\r\n      .map(response => {\r\n        const submitted = new Date(response.submittedAt);\r\n        const created = new Date(response.createdAt);\r\n        return (submitted - created) / 1000 / 60; // in minutes\r\n      });\r\n\r\n    const averageCompletionTime = completionTimes.length > 0 \r\n      ? Math.round(completionTimes.reduce((a, b) => a + b, 0) / completionTimes.length)\r\n      : 0;\r\n\r\n    return {\r\n      totalResponses,\r\n      completionRate: totalResponses > 0 ? 100 : 0, // Assuming all responses are complete\r\n      averageCompletionTime,\r\n      fieldAnalytics,\r\n      responseTrends,\r\n      topResponses: responsesData.slice(0, 5)\r\n    };\r\n  };\r\n\r\n  const exportAnalytics = () => {\r\n    const csvContent = generateCSV();\r\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    const url = URL.createObjectURL(blob);\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', `form-analytics-${formId}.csv`);\r\n    link.style.visibility = 'hidden';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  const generateCSV = () => {\r\n    if (!form || !responses.length) return '';\r\n\r\n    const validFields = form.fields.filter(field => field.type !== 'divider' && field.type !== 'static_text');\r\n    const headers = ['ID da Resposta', 'Enviado em', 'ID do Usuário', ...validFields.map(f => f.label)];\r\n    const rows = responses.map(response => [\r\n      response.id,\r\n      new Date(response.submittedAt).toLocaleString('pt-BR'),\r\n      response.userId,\r\n      ...validFields.map(field => {\r\n        const value = response.data[field.id] || response.data[field.label];\r\n        return Array.isArray(value) ? value.join(', ') : (value || '');\r\n      })\r\n    ]);\r\n\r\n    return [headers, ...rows].map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"loading-spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!form) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900 dark:text-white\">Formulário não encontrado</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n      {/* Header */}\r\n      <div className=\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={() => navigate('/admin')}\r\n                className=\"flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors duration-200\"\r\n              >\r\n                <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                Voltar\r\n              </button>\r\n              <div className=\"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center\">\r\n                <BarChart3 className=\"h-5 w-5 text-white\" />\r\n              </div>\r\n              <h1 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Estatísticas do Formulário</h1>\r\n            </div>\r\n            \r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={exportAnalytics}\r\n                className=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200\"\r\n              >\r\n                <Download className=\"h-4 w-4 mr-2\" />\r\n                Exportar CSV\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Form Info */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">{form.title}</h2>\r\n          {form.description && (\r\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">{form.description}</p>\r\n          )}\r\n          <div className=\"flex items-center space-x-6 text-sm text-gray-500 dark:text-gray-400\">\r\n            <div className=\"flex items-center\">\r\n              <Calendar className=\"h-4 w-4 mr-1\" />\r\n              Criado em {new Date(form.createdAt).toLocaleDateString('pt-BR')}\r\n            </div>\r\n            <div className=\"flex items-center\">\r\n              <FileText className=\"h-4 w-4 mr-1\" />\r\n              {form.fields?.length || 0} campos\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Overview Stats */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Users className=\"h-8 w-8 text-blue-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total de Respostas</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">{analytics.totalResponses}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <CheckCircle className=\"h-8 w-8 text-green-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Taxa de Conclusão</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">{analytics.completionRate}%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Clock className=\"h-8 w-8 text-yellow-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Tempo Médio</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">{analytics.averageCompletionTime} min</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Activity className=\"h-8 w-8 text-purple-600\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Status</p>\r\n                <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">\r\n                  {form.isActive ? 'Ativo' : 'Inativo'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Response Trends */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Tendência de Respostas (Últimos 7 dias)</h3>\r\n          <div className=\"flex items-end space-x-2 h-32\">\r\n            {analytics.responseTrends.map((trend, index) => (\r\n              <div key={index} className=\"flex-1 flex flex-col items-center\">\r\n                <div \r\n                  className=\"w-full bg-blue-500 rounded-t\"\r\n                  style={{ height: `${Math.max(trend.count * 10, 4)}px` }}\r\n                ></div>\r\n                <span className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">{trend.date}</span>\r\n                <span className=\"text-xs font-medium text-gray-900 dark:text-white\">{trend.count}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Field Analytics */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Estatísticas por Campo</h3>\r\n          <div className=\"space-y-4\">\r\n            {analytics.fieldAnalytics.map((field, index) => (\r\n              <div key={index} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                  <h4 className=\"font-medium text-gray-900 dark:text-white\">{field.fieldLabel}</h4>\r\n                  <span className=\"text-sm text-gray-500 dark:text-gray-400 capitalize\">{field.fieldType}</span>\r\n                </div>\r\n                \r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Taxa de Preenchimento</p>\r\n                    <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">{field.completionRate}%</p>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">Respostas</p>\r\n                    <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">{field.totalResponses}</p>\r\n                  </div>\r\n                  \r\n                  {field.averageValue && (\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">Valor Médio</p>\r\n                      <p className=\"text-lg font-semibold text-gray-900 dark:text-white\">{field.averageValue}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Top values for select/radio/checkbox fields */}\r\n                {field.topValues && field.topValues.length > 0 && (\r\n                  <div className=\"mt-4\">\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">Valores Mais Frequentes</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {field.topValues.map((value, valueIndex) => (\r\n                        <span \r\n                          key={valueIndex}\r\n                          className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-400\"\r\n                        >\r\n                          {value.value} ({value.percentage}%)\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Progress bar */}\r\n                <div className=\"mt-3\">\r\n                  <div className=\"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1\">\r\n                    <span>Progresso</span>\r\n                    <span>{field.completionRate}%</span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\r\n                    <div \r\n                      className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                      style={{ width: `${field.completionRate}%` }}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Recent Responses */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-4\">Respostas Recentes</h3>\r\n          {analytics.topResponses.length === 0 ? (\r\n            <p className=\"text-gray-500 dark:text-gray-400\">Nenhuma resposta ainda.</p>\r\n          ) : (\r\n            <div className=\"space-y-3\">\r\n              {analytics.topResponses.map((response, index) => (\r\n                <div key={index} className=\"border border-gray-200 dark:border-gray-700 rounded-lg p-3\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                      Resposta #{response.id.slice(-6)}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                      {new Date(response.submittedAt).toLocaleString('pt-BR')}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                    {Object.entries(response.data).slice(0, 3).map(([key, value]) => (\r\n                      <div key={key} className=\"flex justify-between\">\r\n                        <span className=\"font-medium\">{key}:</span>\r\n                        <span>{Array.isArray(value) ? value.join(', ') : value}</span>\r\n                      </div>\r\n                    ))}\r\n                    {Object.keys(response.data).length > 3 && (\r\n                      <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                        +{Object.keys(response.data).length - 3} mais campos\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormAnalytics;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}