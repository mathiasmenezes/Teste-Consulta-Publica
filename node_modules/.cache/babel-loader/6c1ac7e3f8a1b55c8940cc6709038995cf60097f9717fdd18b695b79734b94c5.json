{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{Copy,CheckCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DemoResetLink=()=>{const[resetData,setResetData]=useState(null);const[copied,setCopied]=useState(false);useEffect(()=>{const storedData=localStorage.getItem('passwordResetData');if(storedData){try{setResetData(JSON.parse(storedData));}catch(error){console.error('Error parsing reset data:',error);}}},[]);const copyToClipboard=async text=>{try{await navigator.clipboard.writeText(text);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(error){console.error('Failed to copy:',error);}};if(!resetData){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full space-y-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"No Reset Token Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Please request a password reset first to see the demo token.\"}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Request Password Reset\"})]})})});}const resetUrl=\"\".concat(window.location.origin,\"/reset-password/\").concat(resetData.token);const expiresAt=new Date(resetData.expiresAt);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Demo Password Reset Link\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"This is a demo of the password reset functionality. In a real application, this link would be sent via email.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Reset Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",resetData.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Token:\"}),\" \",resetData.token]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Expires:\"}),\" \",expiresAt.toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 px-2 py-1 rounded-full text-xs font-medium \".concat(expiresAt>new Date()?'bg-green-100 text-green-800':'bg-red-100 text-red-800'),children:expiresAt>new Date()?'Valid':'Expired'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"Reset URL\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:resetUrl,readOnly:true,className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(resetUrl),className:\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:copied?/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 text-green-600\"}):/*#__PURE__*/_jsx(Copy,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(Link,{to:resetUrl,className:\"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Test Reset Link\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{localStorage.removeItem('passwordResetData');setResetData(null);},className:\"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Clear Token\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-primary-600 hover:text-primary-500 text-sm font-medium\",children:\"Back to Login\"})})]})});};export default DemoResetLink;","map":{"version":3,"names":["React","useState","useEffect","Link","Copy","CheckCircle","jsx","_jsx","jsxs","_jsxs","DemoResetLink","resetData","setResetData","copied","setCopied","storedData","localStorage","getItem","JSON","parse","error","console","copyToClipboard","text","navigator","clipboard","writeText","setTimeout","className","children","to","resetUrl","concat","window","location","origin","token","expiresAt","Date","email","toLocaleString","type","value","readOnly","onClick","removeItem"],"sources":["C:/Users/Highcastle/Documents/Cidadão+ Consulta Pública/src/components/auth/DemoResetLink.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Copy, CheckCircle } from 'lucide-react';\r\n\r\nconst DemoResetLink = () => {\r\n  const [resetData, setResetData] = useState(null);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const storedData = localStorage.getItem('passwordResetData');\r\n    if (storedData) {\r\n      try {\r\n        setResetData(JSON.parse(storedData));\r\n      } catch (error) {\r\n        console.error('Error parsing reset data:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const copyToClipboard = async (text) => {\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    } catch (error) {\r\n      console.error('Failed to copy:', error);\r\n    }\r\n  };\r\n\r\n  if (!resetData) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"max-w-md w-full space-y-8\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n              No Reset Token Found\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Please request a password reset first to see the demo token.\r\n            </p>\r\n            <Link\r\n              to=\"/forgot-password\"\r\n              className=\"inline-flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n            >\r\n              Request Password Reset\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const resetUrl = `${window.location.origin}/reset-password/${resetData.token}`;\r\n  const expiresAt = new Date(resetData.expiresAt);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-2xl w-full space-y-8\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            Demo Password Reset Link\r\n          </h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            This is a demo of the password reset functionality. In a real application, this link would be sent via email.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6\">\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Reset Information</h3>\r\n            <div className=\"space-y-2 text-sm\">\r\n              <p><strong>Email:</strong> {resetData.email}</p>\r\n              <p><strong>Token:</strong> {resetData.token}</p>\r\n              <p><strong>Expires:</strong> {expiresAt.toLocaleString()}</p>\r\n              <p><strong>Status:</strong> \r\n                <span className={`ml-2 px-2 py-1 rounded-full text-xs font-medium ${\r\n                  expiresAt > new Date() \r\n                    ? 'bg-green-100 text-green-800' \r\n                    : 'bg-red-100 text-red-800'\r\n                }`}>\r\n                  {expiresAt > new Date() ? 'Valid' : 'Expired'}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Reset URL</h3>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={resetUrl}\r\n                readOnly\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm bg-gray-50\"\r\n              />\r\n              <button\r\n                onClick={() => copyToClipboard(resetUrl)}\r\n                className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                {copied ? (\r\n                  <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n                ) : (\r\n                  <Copy className=\"h-4 w-4\" />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex space-x-4\">\r\n            <Link\r\n              to={resetUrl}\r\n              className=\"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n            >\r\n              Test Reset Link\r\n            </Link>\r\n            <button\r\n              onClick={() => {\r\n                localStorage.removeItem('passwordResetData');\r\n                setResetData(null);\r\n              }}\r\n              className=\"flex-1 inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\r\n            >\r\n              Clear Token\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-center\">\r\n          <Link\r\n            to=\"/login\"\r\n            className=\"text-primary-600 hover:text-primary-500 text-sm font-medium\"\r\n          >\r\n            Back to Login\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DemoResetLink;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}