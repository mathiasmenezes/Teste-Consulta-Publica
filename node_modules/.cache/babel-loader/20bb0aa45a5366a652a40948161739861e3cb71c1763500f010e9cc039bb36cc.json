{"ast":null,"code":"import _objectSpread from\"C:/Users/Highcastle/Documents/Cidad\\xE3o+ Consulta P\\xFAblica/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useForm}from'../../contexts/FormContext';import{useAuth}from'../../contexts/AuthContext';import FormField from'../form/FormField';import{ArrowLeft,Send,CheckCircle,AlertCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FormResponse=()=>{const{formId}=useParams();const navigate=useNavigate();const{currentUser}=useAuth();const{getFormById,submitResponse,hasUserResponded,loading}=useForm();const[formData,setFormData]=useState(null);const[formValues,setFormValues]=useState({});const[errors,setErrors]=useState({});const[isSubmitting,setIsSubmitting]=useState(false);const[hasAlreadyResponded,setHasAlreadyResponded]=useState(false);const[formLoading,setFormLoading]=useState(true);useEffect(()=>{loadFormData();},[formId]);const loadFormData=async()=>{try{setFormLoading(true);const form=await getFormById(formId);if(form){setFormData(form);// Check if user has already responded\nconst responded=await hasUserResponded(formId,currentUser.id);setHasAlreadyResponded(responded);// Initialize form values\nconst initialValues={};form.fields.forEach((field,index)=>{const fieldId=field.id||index;if(field.type==='checkbox'){initialValues[fieldId]=[];}else{initialValues[fieldId]='';}});setFormValues(initialValues);}}catch(error){console.error('Error loading form data:',error);}finally{setFormLoading(false);}};const handleFieldChange=(index,value)=>{const fieldId=formData.fields[index].id||index;setFormValues(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:value}));// Clear error for this field\nif(errors[fieldId]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[fieldId]:null}));}};const validateForm=()=>{const newErrors={};formData.fields.forEach((field,index)=>{const fieldId=field.id||index;const value=formValues[fieldId];if(field.required){if(!value||Array.isArray(value)&&value.length===0||value.trim()===''){newErrors[fieldId]='This field is required';}}// Additional validation for email fields\nif(field.type==='email'&&value&&!isValidEmail(value)){newErrors[fieldId]='Please enter a valid email address';}});setErrors(newErrors);return Object.keys(newErrors).length===0;};const isValidEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setIsSubmitting(true);try{const result=await submitResponse(formId,formValues,currentUser.id);if(result.success){// Redirect to user dashboard after successful submission\nnavigate('/user');}}catch(error){console.error('Error submitting form:',error);}finally{setIsSubmitting(false);}};if(formLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})});}if(!formData.id){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Form not found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/user'),className:\"text-primary-600 hover:text-primary-700\",children:\"Back to Dashboard\"})]})});}if(hasAlreadyResponded){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-8 w-8 text-green-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Form Already Completed\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"You have already submitted a response for \\\"\",formData.title,\"\\\". Each user can only respond once to this form.\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/user'),className:\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-4 w-4 mr-2\"}),\"Back to Dashboard\"]})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between h-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/user'),className:\"flex items-center text-gray-600 hover:text-gray-900\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 mr-2\"}),\"Back to Dashboard\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:formData.title})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:formData.title}),formData.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-lg mb-4\",children:formData.description}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium mb-1\",children:\"Important:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"You can only submit this form once\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Required fields are marked with an asterisk (*)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Please review your answers before submitting\"})]})]})]})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[formData.fields.map((field,index)=>{const fieldId=field.id||index;const hasError=errors[fieldId];return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(hasError?'border-l-4 border-red-400 pl-4':''),children:[/*#__PURE__*/_jsx(FormField,{field:field,index:index,isPreview:true,value:formValues[fieldId]||'',onChange:value=>handleFieldChange(index,value)}),hasError&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-sm text-red-600 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"h-4 w-4 mr-1\"}),hasError]})]},fieldId);}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-6 border-t border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting||loading,className:\"w-full flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:isSubmitting||loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mr-2\"}),\"Submitting...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{className:\"h-5 w-5 mr-2\"}),\"Submit Form\"]})})})]})]})})})]});};export default FormResponse;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useForm","useAuth","FormField","ArrowLeft","Send","CheckCircle","AlertCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FormResponse","formId","navigate","currentUser","getFormById","submitResponse","hasUserResponded","loading","formData","setFormData","formValues","setFormValues","errors","setErrors","isSubmitting","setIsSubmitting","hasAlreadyResponded","setHasAlreadyResponded","formLoading","setFormLoading","loadFormData","form","responded","id","initialValues","fields","forEach","field","index","fieldId","type","error","console","handleFieldChange","value","prev","_objectSpread","validateForm","newErrors","required","Array","isArray","length","trim","isValidEmail","Object","keys","email","emailRegex","test","handleSubmit","e","preventDefault","result","success","className","children","onClick","title","description","onSubmit","map","hasError","concat","isPreview","onChange","disabled"],"sources":["C:/Users/Highcastle/Documents/Cidadão+ Consulta Pública/src/components/user/FormResponse.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useForm } from '../../contexts/FormContext';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport FormField from '../form/FormField';\r\nimport { \r\n  ArrowLeft, \r\n  Send, \r\n  CheckCircle,\r\n  AlertCircle\r\n} from 'lucide-react';\r\n\r\nconst FormResponse = () => {\r\n  const { formId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { currentUser } = useAuth();\r\n  const { getFormById, submitResponse, hasUserResponded, loading } = useForm();\r\n  \r\n  const [formData, setFormData] = useState(null);\r\n  const [formValues, setFormValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [hasAlreadyResponded, setHasAlreadyResponded] = useState(false);\r\n  const [formLoading, setFormLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadFormData();\r\n  }, [formId]);\r\n\r\n  const loadFormData = async () => {\r\n    try {\r\n      setFormLoading(true);\r\n      const form = await getFormById(formId);\r\n      \r\n      if (form) {\r\n        setFormData(form);\r\n        \r\n        // Check if user has already responded\r\n        const responded = await hasUserResponded(formId, currentUser.id);\r\n        setHasAlreadyResponded(responded);\r\n        \r\n        // Initialize form values\r\n        const initialValues = {};\r\n        form.fields.forEach((field, index) => {\r\n          const fieldId = field.id || index;\r\n          if (field.type === 'checkbox') {\r\n            initialValues[fieldId] = [];\r\n          } else {\r\n            initialValues[fieldId] = '';\r\n          }\r\n        });\r\n        setFormValues(initialValues);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading form data:', error);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFieldChange = (index, value) => {\r\n    const fieldId = formData.fields[index].id || index;\r\n    setFormValues(prev => ({\r\n      ...prev,\r\n      [fieldId]: value\r\n    }));\r\n    \r\n    // Clear error for this field\r\n    if (errors[fieldId]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [fieldId]: null\r\n      }));\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    \r\n    formData.fields.forEach((field, index) => {\r\n      const fieldId = field.id || index;\r\n      const value = formValues[fieldId];\r\n      \r\n      if (field.required) {\r\n        if (!value || (Array.isArray(value) && value.length === 0) || value.trim() === '') {\r\n          newErrors[fieldId] = 'This field is required';\r\n        }\r\n      }\r\n      \r\n      // Additional validation for email fields\r\n      if (field.type === 'email' && value && !isValidEmail(value)) {\r\n        newErrors[fieldId] = 'Please enter a valid email address';\r\n      }\r\n    });\r\n    \r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const isValidEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      const result = await submitResponse(formId, formValues, currentUser.id);\r\n      if (result.success) {\r\n        // Redirect to user dashboard after successful submission\r\n        navigate('/user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (formLoading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"loading-spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!formData.id) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Form not found</h2>\r\n          <button\r\n            onClick={() => navigate('/user')}\r\n            className=\"text-primary-600 hover:text-primary-700\"\r\n          >\r\n            Back to Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (hasAlreadyResponded) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\r\n            <div className=\"mx-auto h-16 w-16 bg-green-100 rounded-full flex items-center justify-center mb-4\">\r\n              <CheckCircle className=\"h-8 w-8 text-green-600\" />\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\r\n              Form Already Completed\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              You have already submitted a response for \"{formData.title}\". Each user can only respond once to this form.\r\n            </p>\r\n            <button\r\n              onClick={() => navigate('/user')}\r\n              className=\"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700\"\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Back to Dashboard\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <button\r\n                onClick={() => navigate('/user')}\r\n                className=\"flex items-center text-gray-600 hover:text-gray-900\"\r\n              >\r\n                <ArrowLeft className=\"h-5 w-5 mr-2\" />\r\n                Back to Dashboard\r\n              </button>\r\n              <h1 className=\"text-xl font-semibold text-gray-900\">\r\n                {formData.title}\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n          <div className=\"p-8\">\r\n            {/* Form Header */}\r\n            <div className=\"mb-8\">\r\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\r\n                {formData.title}\r\n              </h2>\r\n              {formData.description && (\r\n                <p className=\"text-gray-600 text-lg mb-4\">\r\n                  {formData.description}\r\n                </p>\r\n              )}\r\n              <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4\">\r\n                <div className=\"flex items-start\">\r\n                  <AlertCircle className=\"h-5 w-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0\" />\r\n                  <div className=\"text-sm text-blue-800\">\r\n                    <p className=\"font-medium mb-1\">Important:</p>\r\n                    <ul className=\"list-disc list-inside space-y-1\">\r\n                      <li>You can only submit this form once</li>\r\n                      <li>Required fields are marked with an asterisk (*)</li>\r\n                      <li>Please review your answers before submitting</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Form Fields */}\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {formData.fields.map((field, index) => {\r\n                const fieldId = field.id || index;\r\n                const hasError = errors[fieldId];\r\n                \r\n                return (\r\n                  <div key={fieldId} className={`${hasError ? 'border-l-4 border-red-400 pl-4' : ''}`}>\r\n                    <FormField\r\n                      field={field}\r\n                      index={index}\r\n                      isPreview={true}\r\n                      value={formValues[fieldId] || ''}\r\n                      onChange={(value) => handleFieldChange(index, value)}\r\n                    />\r\n                    {hasError && (\r\n                      <p className=\"mt-1 text-sm text-red-600 flex items-center\">\r\n                        <AlertCircle className=\"h-4 w-4 mr-1\" />\r\n                        {hasError}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"pt-6 border-t border-gray-200\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isSubmitting || loading}\r\n                  className=\"w-full flex items-center justify-center px-6 py-3 text-base font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                >\r\n                  {isSubmitting || loading ? (\r\n                    <>\r\n                      <div className=\"loading-spinner mr-2\"></div>\r\n                      Submitting...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Send className=\"h-5 w-5 mr-2\" />\r\n                      Submit Form\r\n                    </>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormResponse;\r\n"],"mappings":"kJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,OAASC,OAAO,KAAQ,4BAA4B,CACpD,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,OACEC,SAAS,CACTC,IAAI,CACJC,WAAW,CACXC,WAAW,KACN,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtB,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,MAAO,CAAC,CAAGhB,SAAS,CAAC,CAAC,CAC9B,KAAM,CAAAiB,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEiB,WAAY,CAAC,CAAGf,OAAO,CAAC,CAAC,CACjC,KAAM,CAAEgB,WAAW,CAAEC,cAAc,CAAEC,gBAAgB,CAAEC,OAAQ,CAAC,CAAGpB,OAAO,CAAC,CAAC,CAE5E,KAAM,CAACqB,QAAQ,CAAEC,WAAW,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG5B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAAC6B,MAAM,CAAEC,SAAS,CAAC,CAAG9B,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAAC+B,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACiC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACmC,WAAW,CAAEC,cAAc,CAAC,CAAGpC,QAAQ,CAAC,IAAI,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACdoC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACnB,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAmB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFD,cAAc,CAAC,IAAI,CAAC,CACpB,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAjB,WAAW,CAACH,MAAM,CAAC,CAEtC,GAAIoB,IAAI,CAAE,CACRZ,WAAW,CAACY,IAAI,CAAC,CAEjB;AACA,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAhB,gBAAgB,CAACL,MAAM,CAAEE,WAAW,CAACoB,EAAE,CAAC,CAChEN,sBAAsB,CAACK,SAAS,CAAC,CAEjC;AACA,KAAM,CAAAE,aAAa,CAAG,CAAC,CAAC,CACxBH,IAAI,CAACI,MAAM,CAACC,OAAO,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,CACpC,KAAM,CAAAC,OAAO,CAAGF,KAAK,CAACJ,EAAE,EAAIK,KAAK,CACjC,GAAID,KAAK,CAACG,IAAI,GAAK,UAAU,CAAE,CAC7BN,aAAa,CAACK,OAAO,CAAC,CAAG,EAAE,CAC7B,CAAC,IAAM,CACLL,aAAa,CAACK,OAAO,CAAC,CAAG,EAAE,CAC7B,CACF,CAAC,CAAC,CACFlB,aAAa,CAACa,aAAa,CAAC,CAC9B,CACF,CAAE,MAAOO,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACRZ,cAAc,CAAC,KAAK,CAAC,CACvB,CACF,CAAC,CAED,KAAM,CAAAc,iBAAiB,CAAGA,CAACL,KAAK,CAAEM,KAAK,GAAK,CAC1C,KAAM,CAAAL,OAAO,CAAGrB,QAAQ,CAACiB,MAAM,CAACG,KAAK,CAAC,CAACL,EAAE,EAAIK,KAAK,CAClDjB,aAAa,CAACwB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACbD,IAAI,MACP,CAACN,OAAO,EAAGK,KAAK,EAChB,CAAC,CAEH;AACA,GAAItB,MAAM,CAACiB,OAAO,CAAC,CAAE,CACnBhB,SAAS,CAACsB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACTD,IAAI,MACP,CAACN,OAAO,EAAG,IAAI,EACf,CAAC,CACL,CACF,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,SAAS,CAAG,CAAC,CAAC,CAEpB9B,QAAQ,CAACiB,MAAM,CAACC,OAAO,CAAC,CAACC,KAAK,CAAEC,KAAK,GAAK,CACxC,KAAM,CAAAC,OAAO,CAAGF,KAAK,CAACJ,EAAE,EAAIK,KAAK,CACjC,KAAM,CAAAM,KAAK,CAAGxB,UAAU,CAACmB,OAAO,CAAC,CAEjC,GAAIF,KAAK,CAACY,QAAQ,CAAE,CAClB,GAAI,CAACL,KAAK,EAAKM,KAAK,CAACC,OAAO,CAACP,KAAK,CAAC,EAAIA,KAAK,CAACQ,MAAM,GAAK,CAAE,EAAIR,KAAK,CAACS,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACjFL,SAAS,CAACT,OAAO,CAAC,CAAG,wBAAwB,CAC/C,CACF,CAEA;AACA,GAAIF,KAAK,CAACG,IAAI,GAAK,OAAO,EAAII,KAAK,EAAI,CAACU,YAAY,CAACV,KAAK,CAAC,CAAE,CAC3DI,SAAS,CAACT,OAAO,CAAC,CAAG,oCAAoC,CAC3D,CACF,CAAC,CAAC,CAEFhB,SAAS,CAACyB,SAAS,CAAC,CACpB,MAAO,CAAAO,MAAM,CAACC,IAAI,CAACR,SAAS,CAAC,CAACI,MAAM,GAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIG,KAAK,EAAK,CAC9B,KAAM,CAAAC,UAAU,CAAG,4BAA4B,CAC/C,MAAO,CAAAA,UAAU,CAACC,IAAI,CAACF,KAAK,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAI,CAACf,YAAY,CAAC,CAAC,CAAE,CACnB,OACF,CAEAtB,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CACF,KAAM,CAAAsC,MAAM,CAAG,KAAM,CAAAhD,cAAc,CAACJ,MAAM,CAAES,UAAU,CAAEP,WAAW,CAACoB,EAAE,CAAC,CACvE,GAAI8B,MAAM,CAACC,OAAO,CAAE,CAClB;AACApD,QAAQ,CAAC,OAAO,CAAC,CACnB,CACF,CAAE,MAAO6B,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACRhB,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,GAAIG,WAAW,CAAE,CACf,mBACEvB,IAAA,QAAK4D,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE7D,IAAA,QAAK4D,SAAS,CAAC,iBAAiB,CAAM,CAAC,CACpC,CAAC,CAEV,CAEA,GAAI,CAAC/C,QAAQ,CAACe,EAAE,CAAE,CAChB,mBACE5B,IAAA,QAAK4D,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvE3D,KAAA,QAAK0D,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7D,IAAA,OAAI4D,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC5E7D,IAAA,WACE8D,OAAO,CAAEA,CAAA,GAAMvD,QAAQ,CAAC,OAAO,CAAE,CACjCqD,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpD,mBAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,GAAIxC,mBAAmB,CAAE,CACvB,mBACErB,IAAA,QAAK4D,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtC7D,IAAA,QAAK4D,SAAS,CAAC,6CAA6C,CAAAC,QAAA,cAC1D3D,KAAA,QAAK0D,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACnF7D,IAAA,QAAK4D,SAAS,CAAC,mFAAmF,CAAAC,QAAA,cAChG7D,IAAA,CAACH,WAAW,EAAC+D,SAAS,CAAC,wBAAwB,CAAE,CAAC,CAC/C,CAAC,cACN5D,IAAA,OAAI4D,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,wBAEtD,CAAI,CAAC,cACL3D,KAAA,MAAG0D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,8CACW,CAAChD,QAAQ,CAACkD,KAAK,CAAC,mDAC7D,EAAG,CAAC,cACJ7D,KAAA,WACE4D,OAAO,CAAEA,CAAA,GAAMvD,QAAQ,CAAC,OAAO,CAAE,CACjCqD,SAAS,CAAC,4IAA4I,CAAAC,QAAA,eAEtJ7D,IAAA,CAACL,SAAS,EAACiE,SAAS,CAAC,cAAc,CAAE,CAAC,oBAExC,EAAQ,CAAC,EACN,CAAC,CACH,CAAC,CACH,CAAC,CAEV,CAEA,mBACE1D,KAAA,QAAK0D,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eAEtC7D,IAAA,QAAK4D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,cAC1C7D,IAAA,QAAK4D,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD7D,IAAA,QAAK4D,SAAS,CAAC,wCAAwC,CAAAC,QAAA,cACrD3D,KAAA,QAAK0D,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C3D,KAAA,WACE4D,OAAO,CAAEA,CAAA,GAAMvD,QAAQ,CAAC,OAAO,CAAE,CACjCqD,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAE/D7D,IAAA,CAACL,SAAS,EAACiE,SAAS,CAAC,cAAc,CAAE,CAAC,oBAExC,EAAQ,CAAC,cACT5D,IAAA,OAAI4D,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAChDhD,QAAQ,CAACkD,KAAK,CACb,CAAC,EACF,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,cAEN/D,IAAA,QAAK4D,SAAS,CAAC,6CAA6C,CAAAC,QAAA,cAC1D7D,IAAA,QAAK4D,SAAS,CAAC,sDAAsD,CAAAC,QAAA,cACnE3D,KAAA,QAAK0D,SAAS,CAAC,KAAK,CAAAC,QAAA,eAElB3D,KAAA,QAAK0D,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB7D,IAAA,OAAI4D,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAClDhD,QAAQ,CAACkD,KAAK,CACb,CAAC,CACJlD,QAAQ,CAACmD,WAAW,eACnBhE,IAAA,MAAG4D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACtChD,QAAQ,CAACmD,WAAW,CACpB,CACJ,cACDhE,IAAA,QAAK4D,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/D3D,KAAA,QAAK0D,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/B7D,IAAA,CAACF,WAAW,EAAC8D,SAAS,CAAC,iDAAiD,CAAE,CAAC,cAC3E1D,KAAA,QAAK0D,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC7D,IAAA,MAAG4D,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,cAC9C3D,KAAA,OAAI0D,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC7C7D,IAAA,OAAA6D,QAAA,CAAI,oCAAkC,CAAI,CAAC,cAC3C7D,IAAA,OAAA6D,QAAA,CAAI,iDAA+C,CAAI,CAAC,cACxD7D,IAAA,OAAA6D,QAAA,CAAI,8CAA4C,CAAI,CAAC,EACnD,CAAC,EACF,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAGN3D,KAAA,SAAM+D,QAAQ,CAAEV,YAAa,CAACK,SAAS,CAAC,WAAW,CAAAC,QAAA,EAChDhD,QAAQ,CAACiB,MAAM,CAACoC,GAAG,CAAC,CAAClC,KAAK,CAAEC,KAAK,GAAK,CACrC,KAAM,CAAAC,OAAO,CAAGF,KAAK,CAACJ,EAAE,EAAIK,KAAK,CACjC,KAAM,CAAAkC,QAAQ,CAAGlD,MAAM,CAACiB,OAAO,CAAC,CAEhC,mBACEhC,KAAA,QAAmB0D,SAAS,IAAAQ,MAAA,CAAKD,QAAQ,CAAG,gCAAgC,CAAG,EAAE,CAAG,CAAAN,QAAA,eAClF7D,IAAA,CAACN,SAAS,EACRsC,KAAK,CAAEA,KAAM,CACbC,KAAK,CAAEA,KAAM,CACboC,SAAS,CAAE,IAAK,CAChB9B,KAAK,CAAExB,UAAU,CAACmB,OAAO,CAAC,EAAI,EAAG,CACjCoC,QAAQ,CAAG/B,KAAK,EAAKD,iBAAiB,CAACL,KAAK,CAAEM,KAAK,CAAE,CACtD,CAAC,CACD4B,QAAQ,eACPjE,KAAA,MAAG0D,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eACxD7D,IAAA,CAACF,WAAW,EAAC8D,SAAS,CAAC,cAAc,CAAE,CAAC,CACvCO,QAAQ,EACR,CACJ,GAbOjC,OAcL,CAAC,CAEV,CAAC,CAAC,cAGFlC,IAAA,QAAK4D,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC5C7D,IAAA,WACEmC,IAAI,CAAC,QAAQ,CACboC,QAAQ,CAAEpD,YAAY,EAAIP,OAAQ,CAClCgD,SAAS,CAAC,wRAAwR,CAAAC,QAAA,CAEjS1C,YAAY,EAAIP,OAAO,cACtBV,KAAA,CAAAE,SAAA,EAAAyD,QAAA,eACE7D,IAAA,QAAK4D,SAAS,CAAC,sBAAsB,CAAM,CAAC,gBAE9C,EAAE,CAAC,cAEH1D,KAAA,CAAAE,SAAA,EAAAyD,QAAA,eACE7D,IAAA,CAACJ,IAAI,EAACgE,SAAS,CAAC,cAAc,CAAE,CAAC,cAEnC,EAAE,CACH,CACK,CAAC,CACN,CAAC,EACF,CAAC,EACJ,CAAC,CACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}